/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { usageEventsBatchCreateUsageEvents } from "../funcs/usageEventsBatchCreateUsageEvents.js";
import { usageEventsCreateUsageEvent } from "../funcs/usageEventsCreateUsageEvent.js";
import { usageEventsGetUsageEvent } from "../funcs/usageEventsGetUsageEvent.js";
import { usageEventsListUsageEvents } from "../funcs/usageEventsListUsageEvents.js";
import { usageEventsRefundUsageEvent } from "../funcs/usageEventsRefundUsageEvent.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as models from "../models/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class UsageEvents extends ClientSDK {
  /**
   * Create
   *
   * @remarks
   * Creates a usage event. The idempotencyKey is used to ensure the event is processed only once by downstream consumers, even if the same event is submitted multiple times. Duplicate submissions will be accepted and return the same response.
   */
  async createUsageEvent(
    request: models.CreateUsageEventRequest,
    options?: RequestOptions,
  ): Promise<models.UsageEvent> {
    return unwrapAsync(usageEventsCreateUsageEvent(
      this,
      request,
      options,
    ));
  }

  /**
   * List
   */
  async listUsageEvents(
    request: operations.ListUsageEventsRequest,
    options?: RequestOptions,
  ): Promise<operations.ListUsageEventsResponse> {
    return unwrapAsync(usageEventsListUsageEvents(
      this,
      request,
      options,
    ));
  }

  /**
   * Get
   */
  async getUsageEvent(
    request: operations.GetUsageEventRequest,
    options?: RequestOptions,
  ): Promise<models.UsageEvent> {
    return unwrapAsync(usageEventsGetUsageEvent(
      this,
      request,
      options,
    ));
  }

  /**
   * Refund
   *
   * @remarks
   * Marks a usage event as refunded. This reverts the consumption recorded by the usage event and creates a corresponding refund billing event if the usage event was already billed.
   */
  async refundUsageEvent(
    request: operations.RefundUsageEventRequest,
    options?: RequestOptions,
  ): Promise<models.UsageEvent> {
    return unwrapAsync(usageEventsRefundUsageEvent(
      this,
      request,
      options,
    ));
  }

  /**
   * Batch Create
   *
   * @remarks
   * Creates multiple usage events in a single request. The idempotencyKey for each event is used to ensure the event is processed only once by downstream consumers, even if the same event is submitted multiple times. Duplicate submissions will be accepted and return the same response.
   */
  async batchCreateUsageEvents(
    request: operations.BatchCreateUsageEventsRequest,
    options?: RequestOptions,
  ): Promise<models.BatchUsageEventResponse> {
    return unwrapAsync(usageEventsBatchCreateUsageEvents(
      this,
      request,
      options,
    ));
  }
}
