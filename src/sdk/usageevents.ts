/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { usageEventsBatchCreate } from "../funcs/usageEventsBatchCreate.js";
import { usageEventsCreate } from "../funcs/usageEventsCreate.js";
import { usageEventsGet } from "../funcs/usageEventsGet.js";
import { usageEventsList } from "../funcs/usageEventsList.js";
import { usageEventsRefund } from "../funcs/usageEventsRefund.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as models from "../models/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class UsageEvents extends ClientSDK {
  /**
   * Create
   *
   * @remarks
   * Creates a usage event. The idempotencyKey is used to ensure the event is processed only once by downstream consumers, even if the same event is submitted multiple times. Duplicate submissions will be accepted and return the same response.
   */
  async create(
    request: models.CreateUsageEventRequest,
    options?: RequestOptions,
  ): Promise<models.UsageEvent> {
    return unwrapAsync(usageEventsCreate(
      this,
      request,
      options,
    ));
  }

  /**
   * List
   */
  async list(
    request: operations.ListUsageEventsRequest,
    options?: RequestOptions,
  ): Promise<operations.ListUsageEventsResponse> {
    return unwrapAsync(usageEventsList(
      this,
      request,
      options,
    ));
  }

  /**
   * Get
   */
  async get(
    request: operations.GetUsageEventRequest,
    options?: RequestOptions,
  ): Promise<models.UsageEvent> {
    return unwrapAsync(usageEventsGet(
      this,
      request,
      options,
    ));
  }

  /**
   * Refund
   *
   * @remarks
   * Marks a usage event as refunded. This reverts the consumption recorded by the usage event and creates a corresponding refund billing event if the usage event was already billed.
   */
  async refund(
    request: operations.RefundUsageEventRequest,
    options?: RequestOptions,
  ): Promise<models.UsageEvent> {
    return unwrapAsync(usageEventsRefund(
      this,
      request,
      options,
    ));
  }

  /**
   * Batch Create
   *
   * @remarks
   * Creates multiple usage events in a single request. The idempotencyKey for each event is used to ensure the event is processed only once by downstream consumers, even if the same event is submitted multiple times. Duplicate submissions will be accepted and return the same response.
   */
  async batchCreate(
    request: operations.BatchCreateUsageEventsRequest,
    options?: RequestOptions,
  ): Promise<models.BatchUsageEventResponse> {
    return unwrapAsync(usageEventsBatchCreate(
      this,
      request,
      options,
    ));
  }
}
