/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";
import { ClosedEnum } from "../../types/enums.js";

/**
 * Whether tax is added on top of the price (exclusive) or included in the price (inclusive)
 */
export const UpdatePlanTaxBehavior = {
  Exclusive: "exclusive",
  Inclusive: "inclusive",
} as const;
/**
 * Whether tax is added on top of the price (exclusive) or included in the price (inclusive)
 */
export type UpdatePlanTaxBehavior = ClosedEnum<typeof UpdatePlanTaxBehavior>;

export type UpdatePlanRequestBody = {
  /**
   * Recurring billing period frequency. Sample values: 'monthly' for monthly billing, 'yearly' for annual billing, 'weekly' for weekly billing
   */
  billingInterval?: string | undefined;
  /**
   * Default tax code for plan line items. Common values: 'eservice' (electronically supplied services), 'saas' (software as a service), 'consulting', 'ebook', 'standard', 'reduced', 'exempt'. Full list available via GET /tax/codes endpoint.
   */
  defaultTaxCode?: string | undefined;
  /**
   * Fallback tax rate (as percentage) if automatic tax calculation is unavailable
   */
  defaultTaxRate?: number | undefined;
  /**
   * Plan details explaining included features and limits. Sample values: 'Claude API access with 500K tokens monthly allowance', 'Unlimited cloud storage plus real-time analytics tools', 'Complete machine learning infrastructure with GPU access', 'Flexible usage-based pricing with no monthly commitment'
   */
  description?: string | undefined;
  /**
   * Plan name shown on billing statements. Sample values: 'LLM API Basic Plan', 'Data Warehouse Business', 'ML Platform Enterprise', 'Pay-Per-Use Model'
   */
  invoiceDisplayName?: string | undefined;
  /**
   * Plan identifier visible to customers. Sample values: 'Basic Tier', 'Business Package', 'Enterprise Solution', 'Metered Billing', 'Free Tier', 'Premium Access'
   */
  name?: string | undefined;
  /**
   * Array of price IDs to associate with this plan
   */
  prices?: Array<string> | undefined;
  /**
   * Whether tax is added on top of the price (exclusive) or included in the price (inclusive)
   */
  taxBehavior?: UpdatePlanTaxBehavior | undefined;
  /**
   * Whether to send renewal reminder emails to customers before their subscription renews
   */
  renewalReminderEnabled?: boolean | undefined;
  /**
   * Number of days before renewal to send the reminder email
   */
  renewalReminderDays?: number | undefined;
};

export type UpdatePlanRequest = {
  /**
   * The unique identifier of the plan
   */
  id: string;
  requestBody: UpdatePlanRequestBody;
};

/** @internal */
export const UpdatePlanTaxBehavior$outboundSchema: z.ZodNativeEnum<
  typeof UpdatePlanTaxBehavior
> = z.nativeEnum(UpdatePlanTaxBehavior);

/** @internal */
export type UpdatePlanRequestBody$Outbound = {
  billingInterval?: string | undefined;
  defaultTaxCode?: string | undefined;
  defaultTaxRate?: number | undefined;
  description?: string | undefined;
  invoiceDisplayName?: string | undefined;
  name?: string | undefined;
  prices?: Array<string> | undefined;
  taxBehavior?: string | undefined;
  renewalReminderEnabled?: boolean | undefined;
  renewalReminderDays?: number | undefined;
};

/** @internal */
export const UpdatePlanRequestBody$outboundSchema: z.ZodType<
  UpdatePlanRequestBody$Outbound,
  z.ZodTypeDef,
  UpdatePlanRequestBody
> = z.object({
  billingInterval: z.string().optional(),
  defaultTaxCode: z.string().optional(),
  defaultTaxRate: z.number().optional(),
  description: z.string().optional(),
  invoiceDisplayName: z.string().optional(),
  name: z.string().optional(),
  prices: z.array(z.string()).optional(),
  taxBehavior: UpdatePlanTaxBehavior$outboundSchema.optional(),
  renewalReminderEnabled: z.boolean().optional(),
  renewalReminderDays: z.number().int().optional(),
});

export function updatePlanRequestBodyToJSON(
  updatePlanRequestBody: UpdatePlanRequestBody,
): string {
  return JSON.stringify(
    UpdatePlanRequestBody$outboundSchema.parse(updatePlanRequestBody),
  );
}

/** @internal */
export type UpdatePlanRequest$Outbound = {
  id: string;
  RequestBody: UpdatePlanRequestBody$Outbound;
};

/** @internal */
export const UpdatePlanRequest$outboundSchema: z.ZodType<
  UpdatePlanRequest$Outbound,
  z.ZodTypeDef,
  UpdatePlanRequest
> = z.object({
  id: z.string(),
  requestBody: z.lazy(() => UpdatePlanRequestBody$outboundSchema),
}).transform((v) => {
  return remap$(v, {
    requestBody: "RequestBody",
  });
});

export function updatePlanRequestToJSON(
  updatePlanRequest: UpdatePlanRequest,
): string {
  return JSON.stringify(
    UpdatePlanRequest$outboundSchema.parse(updatePlanRequest),
  );
}
