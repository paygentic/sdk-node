/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { ClosedEnum } from "../../types/enums.js";

/**
 * Feature type: 'metered' for usage-based features, 'static' for fixed allocations, 'boolean' for on/off features
 */
export const CreateFeatureType = {
  Metered: "metered",
  Static: "static",
  Boolean: "boolean",
} as const;
/**
 * Feature type: 'metered' for usage-based features, 'static' for fixed allocations, 'boolean' for on/off features
 */
export type CreateFeatureType = ClosedEnum<typeof CreateFeatureType>;

export type CreateFeatureRequest = {
  /**
   * Unique slug identifier for the feature within the product. Must be lowercase letters, numbers, and hyphens only.
   */
  key: string;
  /**
   * Human-readable feature name shown to customers.
   */
  name: string;
  /**
   * Feature type: 'metered' for usage-based features, 'static' for fixed allocations, 'boolean' for on/off features
   */
  type?: CreateFeatureType | undefined;
  /**
   * Unique identifier for an organization
   */
  merchantId: string;
  /**
   * Unique identifier for a product
   */
  productId: string;
  /**
   * Optional key-value metadata storage for feature information.
   */
  metadata?: { [k: string]: string } | undefined;
};

/** @internal */
export const CreateFeatureType$outboundSchema: z.ZodNativeEnum<
  typeof CreateFeatureType
> = z.nativeEnum(CreateFeatureType);

/** @internal */
export type CreateFeatureRequest$Outbound = {
  key: string;
  name: string;
  type: string;
  merchantId: string;
  productId: string;
  metadata?: { [k: string]: string } | undefined;
};

/** @internal */
export const CreateFeatureRequest$outboundSchema: z.ZodType<
  CreateFeatureRequest$Outbound,
  z.ZodTypeDef,
  CreateFeatureRequest
> = z.object({
  key: z.string(),
  name: z.string(),
  type: CreateFeatureType$outboundSchema.default("boolean"),
  merchantId: z.string(),
  productId: z.string(),
  metadata: z.record(z.string()).optional(),
});

export function createFeatureRequestToJSON(
  createFeatureRequest: CreateFeatureRequest,
): string {
  return JSON.stringify(
    CreateFeatureRequest$outboundSchema.parse(createFeatureRequest),
  );
}
