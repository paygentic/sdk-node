/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import * as models from "../index.js";

/**
 * Filter for invoices ready for processing (platform only)
 */
export const NextActionAt = {
  Ready: "ready",
} as const;
/**
 * Filter for invoices ready for processing (platform only)
 */
export type NextActionAt = ClosedEnum<typeof NextActionAt>;

/**
 * Filter invoices by status
 */
export const ListInvoicesStatus = {
  Active: "ACTIVE",
  Closing: "CLOSING",
  Closed: "CLOSED",
  Calculating: "CALCULATING",
  Draft: "DRAFT",
  Issued: "ISSUED",
  PaymentFailed: "PAYMENT_FAILED",
  Paid: "PAID",
  Cancelled: "CANCELLED",
  WrittenOff: "WRITTEN_OFF",
  Failed: "FAILED",
} as const;
/**
 * Filter invoices by status
 */
export type ListInvoicesStatus = ClosedEnum<typeof ListInvoicesStatus>;

export type ListInvoicesRequest = {
  /**
   * Maximum number of invoices to return
   */
  limit?: number | undefined;
  /**
   * Filter for invoices ready for processing (platform only)
   */
  nextActionAt?: NextActionAt | undefined;
  /**
   * Filter invoices by status
   */
  status?: ListInvoicesStatus | undefined;
  /**
   * Filter invoices by subscription ID
   */
  subscriptionId?: string | undefined;
};

export const ListInvoicesObject = {
  List: "list",
} as const;
export type ListInvoicesObject = ClosedEnum<typeof ListInvoicesObject>;

/**
 * List of invoices
 */
export type ListInvoicesResponse = {
  object: ListInvoicesObject;
  data: Array<models.Invoice>;
};

/** @internal */
export const NextActionAt$outboundSchema: z.ZodNativeEnum<typeof NextActionAt> =
  z.nativeEnum(NextActionAt);

/** @internal */
export const ListInvoicesStatus$outboundSchema: z.ZodNativeEnum<
  typeof ListInvoicesStatus
> = z.nativeEnum(ListInvoicesStatus);

/** @internal */
export type ListInvoicesRequest$Outbound = {
  limit: number;
  nextActionAt?: string | undefined;
  status?: string | undefined;
  subscriptionId?: string | undefined;
};

/** @internal */
export const ListInvoicesRequest$outboundSchema: z.ZodType<
  ListInvoicesRequest$Outbound,
  z.ZodTypeDef,
  ListInvoicesRequest
> = z.object({
  limit: z.number().int().default(10),
  nextActionAt: NextActionAt$outboundSchema.optional(),
  status: ListInvoicesStatus$outboundSchema.optional(),
  subscriptionId: z.string().optional(),
});

export function listInvoicesRequestToJSON(
  listInvoicesRequest: ListInvoicesRequest,
): string {
  return JSON.stringify(
    ListInvoicesRequest$outboundSchema.parse(listInvoicesRequest),
  );
}

/** @internal */
export const ListInvoicesObject$inboundSchema: z.ZodNativeEnum<
  typeof ListInvoicesObject
> = z.nativeEnum(ListInvoicesObject);

/** @internal */
export const ListInvoicesResponse$inboundSchema: z.ZodType<
  ListInvoicesResponse,
  z.ZodTypeDef,
  unknown
> = z.object({
  object: ListInvoicesObject$inboundSchema,
  data: z.array(models.Invoice$inboundSchema),
});

export function listInvoicesResponseFromJSON(
  jsonString: string,
): SafeParseResult<ListInvoicesResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListInvoicesResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListInvoicesResponse' from JSON`,
  );
}
