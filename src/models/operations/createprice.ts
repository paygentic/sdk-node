/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { ClosedEnum } from "../../types/enums.js";
import * as models from "../index.js";

/**
 * Pricing calculation model. Required for billable metrics, optional for fees (defaults to 'standard').
 */
export const CreatePriceModel = {
  Standard: "standard",
  Dynamic: "dynamic",
  Volume: "volume",
  Percentage: "percentage",
} as const;
/**
 * Pricing calculation model. Required for billable metrics, optional for fees (defaults to 'standard').
 */
export type CreatePriceModel = ClosedEnum<typeof CreatePriceModel>;

/**
 * Billing timing preference. For billable metrics: 'instant' (charges immediately) or 'in_arrears' (charges at period end). For fees: 'in_advance' (charges upfront) or 'in_arrears' (charges at period end).
 */
export const CreatePricePaymentTerm = {
  Instant: "instant",
  InArrears: "in_arrears",
  InAdvance: "in_advance",
} as const;
/**
 * Billing timing preference. For billable metrics: 'instant' (charges immediately) or 'in_arrears' (charges at period end). For fees: 'in_advance' (charges upfront) or 'in_arrears' (charges at period end).
 */
export type CreatePricePaymentTerm = ClosedEnum<typeof CreatePricePaymentTerm>;

export type CreatePriceRequest = {
  /**
   * Unique identifier for a billable metric
   */
  billableMetricId?: string | undefined;
  /**
   * The unique identifier for the fee referred to by this price. Either billableMetricId or feeId must be provided.
   */
  feeId?: string | undefined;
  /**
   * Pricing calculation model. Required for billable metrics, optional for fees (defaults to 'standard').
   */
  model?: CreatePriceModel | undefined;
  /**
   * Line item label shown on customer invoices. Sample values: 'Claude Token Consumption', 'Storage Usage (GB)', 'Inference API Calls', 'Image Generation Count', 'Training Compute Hours', 'Data Transfer (TB)'
   */
  invoiceDisplayName: string;
  /**
   * Billing timing preference. For billable metrics: 'instant' (charges immediately) or 'in_arrears' (charges at period end). For fees: 'in_advance' (charges upfront) or 'in_arrears' (charges at period end).
   */
  paymentTerm: CreatePricePaymentTerm;
  /**
   * ISO 8601 duration for recurring charges (e.g., 'P1M' for monthly, 'P1Y' for yearly) or 'P0D' for one-time charges. Required for fees, optional for billable metrics. Sample values: 'P0D' for one-time, 'P1M' for monthly recurring, 'P1Y' for yearly recurring
   */
  billingCadence?: string | null | undefined;
  properties: models.PricePropertiesUnion;
  feature?: models.PriceFeatureInput | undefined;
};

/** @internal */
export const CreatePriceModel$outboundSchema: z.ZodNativeEnum<
  typeof CreatePriceModel
> = z.nativeEnum(CreatePriceModel);

/** @internal */
export const CreatePricePaymentTerm$outboundSchema: z.ZodNativeEnum<
  typeof CreatePricePaymentTerm
> = z.nativeEnum(CreatePricePaymentTerm);

/** @internal */
export type CreatePriceRequest$Outbound = {
  billableMetricId?: string | undefined;
  feeId?: string | undefined;
  model?: string | undefined;
  invoiceDisplayName: string;
  paymentTerm: string;
  billingCadence?: string | null | undefined;
  properties: models.PricePropertiesUnion$Outbound;
  feature?: models.PriceFeatureInput$Outbound | undefined;
};

/** @internal */
export const CreatePriceRequest$outboundSchema: z.ZodType<
  CreatePriceRequest$Outbound,
  z.ZodTypeDef,
  CreatePriceRequest
> = z.object({
  billableMetricId: z.string().optional(),
  feeId: z.string().optional(),
  model: CreatePriceModel$outboundSchema.optional(),
  invoiceDisplayName: z.string(),
  paymentTerm: CreatePricePaymentTerm$outboundSchema,
  billingCadence: z.nullable(z.string()).optional(),
  properties: models.PricePropertiesUnion$outboundSchema,
  feature: models.PriceFeatureInput$outboundSchema.optional(),
});

export function createPriceRequestToJSON(
  createPriceRequest: CreatePriceRequest,
): string {
  return JSON.stringify(
    CreatePriceRequest$outboundSchema.parse(createPriceRequest),
  );
}
