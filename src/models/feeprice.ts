/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import { ClosedEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";

/**
 * The pricing model. Fees only support standard pricing.
 */
export const FeePriceModel = {
  Standard: "standard",
} as const;
/**
 * The pricing model. Fees only support standard pricing.
 */
export type FeePriceModel = ClosedEnum<typeof FeePriceModel>;

/**
 * When the fee is charged relative to the billing period.
 */
export const FeePricePaymentTerm = {
  InAdvance: "in_advance",
  InArrears: "in_arrears",
} as const;
/**
 * When the fee is charged relative to the billing period.
 */
export type FeePricePaymentTerm = ClosedEnum<typeof FeePricePaymentTerm>;

export type Properties = {
  /**
   * The unit price in dollars (e.g., '10.00').
   */
  unitPrice: string;
};

/**
 * The price configuration for a fee within a subscription context.
 */
export type FeePrice = {
  /**
   * The unique identifier of the price.
   */
  id: string;
  /**
   * The unique identifier of the fee.
   */
  feeId: string;
  /**
   * The pricing model. Fees only support standard pricing.
   */
  model: FeePriceModel;
  /**
   * When the fee is charged relative to the billing period.
   */
  paymentTerm: FeePricePaymentTerm;
  /**
   * The name to display on invoices for this fee.
   */
  invoiceDisplayName: string;
  properties: Properties;
  /**
   * The tax rate as a percentage (e.g., 10 for 10%).
   */
  taxRate?: number | undefined;
};

/** @internal */
export const FeePriceModel$inboundSchema: z.ZodNativeEnum<
  typeof FeePriceModel
> = z.nativeEnum(FeePriceModel);

/** @internal */
export const FeePricePaymentTerm$inboundSchema: z.ZodNativeEnum<
  typeof FeePricePaymentTerm
> = z.nativeEnum(FeePricePaymentTerm);

/** @internal */
export const Properties$inboundSchema: z.ZodType<
  Properties,
  z.ZodTypeDef,
  unknown
> = z.object({
  unitPrice: z.string(),
});

export function propertiesFromJSON(
  jsonString: string,
): SafeParseResult<Properties, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Properties$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Properties' from JSON`,
  );
}

/** @internal */
export const FeePrice$inboundSchema: z.ZodType<
  FeePrice,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: z.string(),
  feeId: z.string(),
  model: FeePriceModel$inboundSchema,
  paymentTerm: FeePricePaymentTerm$inboundSchema,
  invoiceDisplayName: z.string(),
  properties: z.lazy(() => Properties$inboundSchema),
  taxRate: z.number().optional(),
});

export function feePriceFromJSON(
  jsonString: string,
): SafeParseResult<FeePrice, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => FeePrice$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'FeePrice' from JSON`,
  );
}
